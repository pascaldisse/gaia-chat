<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaia Chat - GaiaScript Version</title>
    <meta name="description" content="GAIA Chat built with GaiaScript and GaiaUI">
    <style>
      /* Reset and basic styles */
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, 
          Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        line-height: 1.5;
        color: #333;
        background-color: #f5f5f5;
      }
      
      #app {
        height: 100vh;
        width: 100%;
      }
      
      /* Variables */
      :root {
        --primary-color: #0084ff;
        --secondary-color: #f5f5f5;
        --text-color: #333333;
        --border-radius: 20px;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script src="gaia-ui-runtime.js"></script>
    <script src="gaia-ui-compiler.js"></script>
    <script>
      // Load and compile GaiaScript components
      fetch('ChatMinimal.gaia')
        .then(response => response.text())
        .then(sourceChat => {
          fetch('Message.gaia')
            .then(response => response.text())
            .then(sourceMessage => {
              fetch('ChatInput.gaia')
                .then(response => response.text())
                .then(sourceChatInput => {
                  fetch('GaiaApp.gaia')
                    .then(response => response.text())
                    .then(sourceApp => {
                      // Combine all components
                      const source = sourceChat + '\n' + sourceMessage + '\n' + sourceChatInput + '\n' + sourceApp;
                      
                      // Compile the GaiaScript code
                      const compiled = compileGaiaScript(source);
                      
                      // Apply the CSS
                      const styleElement = document.createElement('style');
                      styleElement.textContent = compiled.web.css;
                      document.head.appendChild(styleElement);
                      
                      // Execute the JavaScript
                      const scriptElement = document.createElement('script');
                      scriptElement.textContent = compiled.web.js;
                      document.body.appendChild(scriptElement);
                    });
                });
            });
        });
    </script>
  </body>
</html>